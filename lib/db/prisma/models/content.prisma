model LocalContent {
  id               String            @id @default(ulid())
  textData         String?
  applicationData  Json?
  name             String
  // i.e. step-01 step-02
  labStep          String?
  labModule        Int?
  contentPlacement ContentPlacement?
  contentType      ContentType       @default(PROMPT_UNKNOWN)
  mimeType         MimeType          @default(TEXT_PLAIN)

  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @default(now()) @updatedAt
  lastSyncedAt DateTime?
  expiresAt    DateTime?

  @@index([contentPlacement])
  @@index([name])
  @@index([labStep])
  @@index([contentType])
  @@index([mimeType])
}

enum ContentPlacement {
  AIYA   @map("aiya")
  LABS   @map("labs")
  SECRET @map("secret")
}

enum ContentType {
  GUIDE_STEP @map("guide/step")
  GUIDE_LAB  @map("guide/lab")

  PROMPT_STEP    @map("prompt/step")
  PROMPT_SYSTEM  @map("prompt/system")
  PROMPT_LAB     @map("prompt/lab")
  PROMPT_UNKNOWN @map("prompt/unknown")

  REFERENCE_CODE @map("reference/code")
}

enum MimeType {
  TEXT_MARKDOWN   @map("text/markdown")
  TEXT_PLAIN      @map("text/plain")
  TEXT_HTML       @map("text/html")
  TEXT_CSV        @map("text/csv")
  TEXT_TYPESCRIPT @map("text/typescript")

  APPLICATION_JSON @map("application/json")
  APPLICATION_XML  @map("application/xml")

  // Not supporting these at this time.
  // Use demo platform CDN instead
  // APPLICATION_PDF   @map("application/pdf")

  // IMAGE_PNG     @map("image/png")
  // IMAGE_JPEG    @map("image/jpeg")
  // IMAGE_GIF     @map("image/gif")
  // IMAGE_WEBP    @map("image/webp")
  // IMAGE_SVG_XML @map("image/svg+xml")
}
